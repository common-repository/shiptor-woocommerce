=== Логистическая платформа Shiptor для WooCommerce ===
Contributors: shiptor
Donate link: https://shiptor.ru/
Tags: shiptor, расчет доставки, логистика, посылки
Requires at least: 5.0.0
Tested up to: 5.7
WC Requires at least: 4.3.3
WC Tested up to: 5.4
Stable tag: 1.4.2
Requires PHP: 5.6

Официальный плагин Shiptor для WooCommerce. Добавляет на сайт автоматизированный расчет доставки и возможность передавать заказы в логистическую платформу Shiptor.

== Description ==

Официальный плагин Shiptor.

Shiptor — универсальная логистическая платформа для курьерских служб.

Плагин позволяет подключить Ваш интеренет-магазин к личному кабинету Shiptor, упрощая работу с логистической платформой.

Возможности плагина:
*   Отображает все доступные способы доставки.
*   Рассчитывает стоимость доставки по всему миру (экспорт).
*   Учитывает при расчете доставки вес и габариты товаров.
*   Добавляет при необходимости собственную наценку, фиксированную цену, скидку или бесплатную доставку.
*   Учитывает при расчете доставки способ оплаты.
*   Ориентируется на классы доставки товаров.
*   Ограничивает возможность доставки по регионам.
*   Отображает срок доставки, который может быть изменён при необходимости.
*   Передает заказы в Shiptor вместе с товарной номенклатурой.
*   Отслеживает статусы заказов.
*   Логирование операций обмена данными с Shiptor.

Инструкция по настройке: https://shiptor.ru/help/integration/woo/woocommerce-setting


== Installation ==

Устанавливается как и все решения для WordPress:

1) Скачайте архив с плагином на свой компьютер.
2) Перейдите в панель управлением сайта (админку).
3) Перейдите в раздел «Плагины».
4) Нажмите на кнопку «Добавить новый».
5) В открывшемся окне укажите путь к архиву, где находится плагин на вашем компьютере.
6) Активируйте плагин (установка завершена).


== Установка и обновление ==

Установка по FTP:

1) Распакуйте архив с обновлением.
2) Зайдите в директорию /wp-content/plugins и удалите папку со старой версией плагина.
3) Подтвердите действие и дождитесь полного удаления всех данных.
4) Скопируйте туда распакованный архив с обновлением.

Установка через административную панель:

1) Скачайте плагин и распакуйте архив.
2) В административной панели интернет-магазина перейдите в раздел «Плагины» и найдите там «Логистическая платформа Shiptor для WooCommerce» или «Shiptor-WooCommerce». Нажмите «Деактивировать» и затем «Удалить». Подтвердите действие и дождитесь полного удаления.
3) Перейдите к заголовку раздела и нажмите «Добавить новый».
4) В открывшемся окне «Добавить плагины» нажмите «Загрузить плагин». В папке с обновленной версией на своем устройстве выберите архив.
Нажмите «Установить».


== Frequently Asked Questions ==

= Плагины и шаблоны однозначно НЕ совместимые с плагином Shiptor? Не отображается доставка в оформлении заказа =

С плагином Shiptor несовместимы редакторы формы оформления заказа, например: «Saphali Light», «Checkout form editor» и т.д. Приницип их работы заключается в перезаписывании стандартных полей. Это непосредственно влияет на плагин Shiptor и корректность отображения данных на странице оформления заказа, включая карту самовывоза, пересчет цен и т. д.

= Заказ отображается в панели заказов плагином Shiptor, но его нет в ЛК Shiptor. Как его передать туда? =

Автоматическая передача не реализована в текущей версии плагина. Используйте кнопки передачи одного заказа или их пула.

= На некоторых заказах нет кнопки передачи в Shiptor из общей таблицы заказов WooCommerce =

Заказы, оформленные на сквозной профиль доставки вида ПВЗ-Дверь или ПВЗ-ПВЗ, можно отправить только по кнопке из самого заказа. Это связано с необходимостью выбрать желаемый ПВЗ отгрузки (по умолчанию стоит первый в списке). Также нельзя отправить в Shiptor заказы, оформленные на профили доставки НЕ из модуля Shiptor.

=  При передаче заказа появляется сообщение о невозможности его отправки в Shiptor. В чем причина? =

Откройте заказ и попробуйте отправить его по кнопке «создать заказ». В зависимости от типа найденных ошибок либо подсвечиваются незаполненные поля, либо Shiptor выводит соответствующее сообщение. Внесите исправления в заказ и повторите передачу.

= Как исправить длительное ожидание списка подсказок в поле «город»? =

Плагин сохраняет ранее введенные значения в кеше, чтобы при необходимости к ним быстро вернуться. Скорость отклика определяется в зависимости от текущего объёма данных. Нажмите «Очистить базу данных» и перевыберите значение в поле «Город» (получателя по умолчанию).

= Как рассчитываются габариты и вес заказа из нескольких товаров? =

Из карточек товаров суммируется вес и объем каждой позиции. Итоговые габариты заказа "растягиваются" по максимальному измерению из имеющихся данных. Если в карточке товара не указан вес или какой-либо из параметров, используются умолчания.

При этом важно понимать, что ни один алгоритм не может дать на 100% точный результат из-за разнообразия методов упаковки товаров.

= Плагин не показывает ни одного способа доставки при оформлении заказа =

Для диагностики проблемы выполните рекомендации из списка ниже:

1) Проверьте работу сайта shiptor.ru. Если он недоступен, могут не подгружаться подсказки городов при отсутствии их в кеше.
2) Убедитесь в калькуляторе на сайте shiptor.ru, что доставка в населенный пункт существует с аналогичными параметрами заказа (габариты, вес, оплата) и в модуле включены допустимые методы доставки.
3) Попробуйте рассчитать доставку с другими способами оплаты.
4) Убедитесь, что в товаре НЕ указаны габариты/вес, которые недопустимы для выбранной службы доставки.
5) Убедитесь, что на сайте не используются плагины, изменяющие страницу оформления заказа.
6) Очистите кеш WooCommerce.
7) Проверьте корректность установки/обновления.

= Другие вопросы =

По другим вопросам вы можете обратиться через форму обратной связи https://shiptor.ru/feedback или на почту integration@shiptor.ru.

== Screenshots ==

1. /assets/screenshot-1.png
2. /assets/screenshot-2.png
3. /assets/screenshot-3.png
4. /assets/screenshot-4.png
5. /assets/screenshot-5.png

== Upgrade Notice ==

= 1.2.1 - 1.2.2 =
* Срочное исправление проблемы с неотображением карты ПВЗ.

== Changelog ==

= 1.4.1 - 1.4.2 =
* Изменён шаблон отправки письма клиенту. Добавлена ссылка на отслеживание посылки в Shiptor;
* Улучшена безопасность обработки данных;
* Доработана синронизация методов доставки;

= 1.4.0 =
* Изменено оформление страницы настройки;
* Добавлена возможность выбора ПВЗ отправления для сквозных методов доставки;
* Исправлена ошибка отображения сроков доставки;
* Добавлена автоматическая передача заказов;
* Добавлена возможность расчета и отправки посылок через региональные склады Shiptor;
* Добавлена функция скидки для доставки;
* Расширены возможности редактирования заказа.

= 1.3.1 =
* Добавлена кнопка выбора ПВЗ на странице оформления заказа;
* Добавлена возможность переключения на карту ПВЗ для мобильных устройств;
* Исправлена проблема с отсутствием расчета доставки за рубеж;
* Исправлена проблема длительной задержки при открытии страницы товара;
* Исправлена ошибка отображения методов прямой (сквозной) доставки в карточке товара.

= 1.3.0 =
* Добавлена функция синхронизации методов доставки по API-токену — позволяет активировать новые, недоступные в предыдущих версиях, методы доставки;
* Изменено оформление страницы настройки «Зон доставки» в админ-панели;
* Исправлена проблема с расчетом стоимость доставки в карточке товара;
* Исправлена ошибка отображения всплывающей карты ПВЗ для тем использующих Bootstrap.

= 1.2.4 =
Добавлена функция отображения карты пунктов выдачи заказов в модальном (всплывающем) окне;
* Интегрирован Виджет анализатора логов;
* Исправлена проблема некорректной работы поля «Населенный пункт», если местоположение покупателя по умолчанию не задано;
* Исправлена проблема с длительной загрузкой подсказок в поле «Населенный пункт»;
* Исправлена проблема с длительной загрузкой при добавлении в корзину второго и последующих товаров.

= 1.2.3 =
* Добавлена функция кеширования результатов расчета доставки в форме оформления заказа;
* Исправлена проблема с длительной загрузкой страницы товара при включенном виджете предварительного расчета доставки.

= 1.2.1 - 1.2.2 =
* Срочное исправление проблемы с неотображением карты ПВЗ.
* Способ доставки «Почта России» переименован в «Shiptor Почта»;
* Добавлен новый способ доставки «Shiptor Почта» для некоторых городов.


= 1.2.0 =
* Исправлена проблема с отображением методов доставки на экспорт;
* Добавлен учет страхования экспортных посылок.


= 1.1.2 =
* Восстановлена стандартная кнопка «удалить» в меню заказов;
* Добавлена проверка обязательности полей сквозной доставки при первичной настройке модуля;
* Восстановлено поле индекса в оформлении заказа и реализована его передача в Shiptor.

= 1.1.1 =
* Исправлены ошибки в работе виджета в карточке товара с кнопкой «обновить цены».

= 1.1.0 =
* Исправлена ошибка с невозможностью передать оплату картой при «сквозной» доставке;
* Исправлена ошибка с некорректным отображением срока доставки в случае пустого ответа от Shiptor;
* Исправлена ошибка с возможностью выбора нерабочих дней при передаче заказа на «сквозную» доставку;
* Расширен функционал виджета в карточке товара;
* Добавлены новые методы доставки;
* Исправлена ошибка с появлением нотисов на заказах сторонних модулей доставки.


= 1.0.6 =
* Исправлена проблема с выключением меню WordPress при активации плагина Shiptor;
* Исправлена ошибка предварительного подсчета итоговой суммы заказа при работе с сортировкой способов доставки по цене;
* Добавлена возможность сортировки способов доставки по времени посылки в пути;
* Исправлена ошибка с невозможностью повторной отправки трек-номера Shiptor из админпанели WooCommerce.

= 1.0.5 =
* Исправлены ошибки запуска плагина при заказе скачиваемых товаров;
* Добавлен механизм обработки смешанных заказов на скачиваемые и доставляемые товары;
* Исправлены ошибки при отображении карты ПВЗ на способе доставки IML самовывоз;
* Исправлен механизм работы с одноименными населенными пунктами в кеше чекаута;
* Добавлены новые способы доставки: CDEK курьер эконом и CDEK ПВЗ эконом.

= 1.0.0 =
Выпуск плагина